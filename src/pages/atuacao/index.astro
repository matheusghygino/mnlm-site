---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getActivities } from "../../lib/getActivities";

const activities = await getActivities();
---

<BaseLayout title="Atuação | MNLM">
  <section class="bg-bg py-20">
    <div class="mx-auto max-w-7xl px-4">

      <header class="mb-12 text-center">
        <h1 class="font-display text-3xl font-extrabold">
          Nossa Atuação
        </h1>
        <div class="mx-auto mt-3 h-1 w-64 bg-primary"></div>
      </header>

      <div class="grid gap-10 md:grid-cols-3">
        {activities.map((activity) => (
          <article class="group">
            <a href={`/atuacao/${activity.slug}`}>
              <div class="h-72 overflow-hidden rounded-2xl">
                <img
                  src={activity.image?.url}
                  alt={activity.image?.alternativeText || activity.title}
                  class="h-full w-full object-cover transition group-hover:scale-105"
                  loading="lazy"
                />
              </div>

              <h2 class="mt-4 font-display text-lg font-bold group-hover:text-primary">
                {activity.title}
              </h2>

              {activity.excerpt && (
                <p class="mt-2 text-sm text-text-secondary">
                  {activity.excerpt}
                </p>
              )}
            </a>
          </article>
        ))}
      </div>

    </div>
  </section>
</BaseLayout>
